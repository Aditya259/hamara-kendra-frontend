<div class="banner">
  <div class="d-inline-flex w-100">
    <div style="width:100%;margin-left: auto;">
      <div style="float: left;">
        <h4 class="my-auto"  style="padding-top: 20px;"><b>Interation Log</b></h4>
      </div>
      <div style="float: right;">
        <mat-list>
          <mat-list-item style="background-color: white !important; border-radius: 25px;width: 200px !important;height: 35px;">
            <mat-icon mat-list-icon>search</mat-icon>
              <input matInput  mat-line placeholder=" Search.."> &nbsp;&nbsp;
          </mat-list-item>
        </mat-list>

      </div>
    </div>
  </div>
</div>
<br>
<br>
<div class="container ">
  <div class="container-fluid" style="margin-top: -4.0rem; margin-bottom: 2rem;">
    <mat-card style="box-shadow: 0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);
        border-radius: 16px;">
      <h4>Interation Log Creation</h4>
      <br>
      <div style="float:right">
      </div>
      <br>
      <form  #userForm="ngForm"   (ngSubmit)="onClickSubmit(userForm.value)"> 
        <div id="customerDetails"  style="width: 100%">
          <h5>Customer Details</h5>
          <!--Existing Customer-->
          <section class="example-section">
            <mat-checkbox class="example-margin"  [checked]="enabbleExisting"
            (change)="existingCust($event)">Is Existing Customer</mat-checkbox>
          </section>
          

          <!-- <mat-chip-list aria-label="Fish selection" *ngIf="flagTag || flagTagCustomerCode">
            <mat-chip color="accent" selected *ngIf="flagTag"> {{this.errorMsg}} </mat-chip>
            <mat-chip color="accent" selected *ngIf="flagTagCustomerCode"> {{this.errorMsgCustomerCode}} </mat-chip>
          </mat-chip-list>-->
        <br>
          <mat-grid-list cols="3" rowHeight="60px">
         <!--   <mat-grid-tile>
              <mat-form-field>
              <mat-label>Customer Name</mat-label>
              <input type="text"
                     placeholder="Customer Name"
                     [(ngModel)]="selectedCustomerName"  
                     matInput
                     (ngModelChange)="getByCustomerName($event)"
                     [formControl]="myControl"
                     [matAutocomplete]="auto"
                     name ="custName"
                     ngModel>
              <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" >
                <mat-option *ngFor="let option of filteredOptions | async" [value]="option" >
                  {{option}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </mat-grid-tile>
       *ngIf="disableExisting" --> 
        
       <mat-grid-tile *ngIf="disableExisting">
        <mat-form-field>
        <mat-label>Customer Name</mat-label>
        <input type="text"
               placeholder="Customer Name"
               [(ngModel)]="selectedCustomerName"  
               matInput
               name ="custName"
               autocomplete="off"
               ngModel>
      </mat-form-field>
    </mat-grid-tile>

                <mat-grid-tile *ngIf="enabbleExisting">
                  <mat-form-field >
                  <mat-label>Customer Code</mat-label>
                  <input type="text"
                        placeholder="Customer Code"
                        [(ngModel)]="selectedCustomerCode"  
                        matInput
                        (ngModelChange)="getByid($event)"
                        [formControl]="myControl2"
                        [matAutocomplete]="auto1"
                        name ="custName" 
                        [multiple]="false"
                        ngModel>
                        <i class="material-icons align-arrow-right">arrow_drop_down</i>

                  <mat-autocomplete autoActiveFirstOption #auto1="matAutocomplete">
                    <mat-option *ngFor="let option1 of filteredOptionsCodeWithName | async" [value]="option1">
                      {{option1}}
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
                </mat-grid-tile>

<!--
              <mat-grid-tile>
                <mat-form-field aria-readonly="true">
                  <mat-label>Customer Code</mat-label>
                  <mat-select (selectionChange)="getByid($event.value)" [(ngModel)]="selectedCustomerCode" name ="customerCode"  ngModel  >
                    <mat-option
                      *ngFor="let framwork of allCustomer"
                      [value]="framwork.id"
                    >
                      {{ framwork.id }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>
-->
              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Company</mat-label>
                  <mat-select [(ngModel)]="selectedCompany" name ="selectedCompany" ngModel>
                    <mat-option
                      *ngFor="let framwork of allCompanyList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Segment</mat-label>
                  <mat-select [(ngModel)]="selectedSegment" name ="selectedSegment" ngModel>
                    <mat-option
                      *ngFor="let framwork of allSegmentList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Industry</mat-label>
                  <mat-select [(ngModel)]="selectedIndustry" name ="selectedIndustry" ngModel>
                    <mat-option
                      *ngFor="let framwork of allIndustryList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Parent Company</mat-label>
                  <mat-select [(ngModel)]="selectedParentCompany" name ="selectedParentCompany" ngModel>
                    <mat-option
                      *ngFor="let framwork of allparentCompanyList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Subsidary Company</mat-label>
                  <mat-select [(ngModel)]="selectedSubsidaryCompany" name ="selectedSubsidaryCompany" ngModel>
                    <mat-option
                      *ngFor="let framwork of allSubCompany"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Subsidary Area</mat-label>
                  <mat-select [(ngModel)]="selectedSubsidaryArea" name ="selectedSubsidaryArea" ngModel>
                    <mat-option
                      *ngFor="let framwork of allSubAreaList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Subsidary Channel</mat-label>
                  <mat-select [(ngModel)]="selectedSubsidaryChannel" name ="selectedSubsidaryChannel" ngModel>
                    <mat-option
                      *ngFor="let framwork of allSubChannel"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Sector</mat-label>
                  <mat-select [(ngModel)]="selectedSector" name ="selectedSector" ngModel>
                    <mat-option
                      *ngFor="let framwork of allSectorList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Country</mat-label>
                  <mat-select [(ngModel)]="selectedCountry" name ="selectedCountry" ngModel>
                    <mat-option
                      *ngFor="let framwork of allCountryList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>State</mat-label>
                  <mat-select [(ngModel)]="selectedState" name ="selectedState" ngModel>
                    <mat-option
                      *ngFor="let framwork of allStateList"
                      [value]="framwork.name"
                    >
                      {{ framwork.name }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-grid-tile>
                     
              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Contact Person Company</mat-label>
                  <input matInput id="btn" placeholder="Contact Person Company" [(ngModel)]="selectedCpdContactPersonCompany" name="selectedCpdContactPersonCompany" ngModel>

                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Contact Person</mat-label>
                  <input matInput id="btn" placeholder="Contact Person" [(ngModel)]="selectedCpdContactPerson" name="selectedCpdContactPerson" ngModel>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Designation</mat-label>
                  <input matInput id="btn" placeholder="Designation" [(ngModel)]="selectedCpdDesignationn" name="selectedCpdDesignationn" ngModel>
                </mat-form-field>
              </mat-grid-tile>

              <mat-grid-tile>
                <mat-form-field>
                  <mat-label>Email</mat-label>
                  <input matInput id="btn" placeholder="Email" [(ngModel)]="selectedCpdEmail" name="selectedCpdEmail" ngModel>
                </mat-form-field>
              </mat-grid-tile>

          </mat-grid-list>

         
        </div>
          <div id="extrDetails">
          <section class="example-section">
            <mat-checkbox class="example-margin1" (change)="checkForeEmailCommunication()"
              [checked]="emailCommunicationFlag">Email</mat-checkbox>
            <mat-checkbox class="example-margin1" (change)="checkForeCallCommunication()"
              [checked]="callCommunicationFlag">Call</mat-checkbox>
            <mat-checkbox class="example-margin1" (change)="checkForSmsCommunication()"
              [checked]="smsCommunicationFlag">SMS</mat-checkbox>
            <mat-checkbox class="example-margin1" (change)="checkForSiteVisitCommunicationFlag()"
              [checked]="siteVisitCommunicationFlag">Site Visit</mat-checkbox>
            <mat-checkbox class="example-margin1" (change)="checkForOnlineMeetingInformationFlag()"
              [checked]="onlineMeetingInformationFlag">Online Meeting</mat-checkbox>
          </section>
        </div>
        <!--Email Start-->
        <div id="emailCommunication" *ngIf="emailCommunicationFlag===true || callCommunicationFlag===true || smsCommunicationFlag===true || siteVisitCommunicationFlag===true || onlineMeetingInformationFlag===true">
         
          <input type="hidden" name="extraEmail" value="email" *ngIf="emailCommunicationFlag===true" ngModel>&nbsp;&nbsp;&nbsp;
          <input type="hidden" name="extraCall" value="email" *ngIf="callCommunicationFlag===true" ngModel>&nbsp;&nbsp;&nbsp;
          <input type="hidden" name="extraSms" value="email" *ngIf="smsCommunicationFlag===true" ngModel>&nbsp;&nbsp;&nbsp;
          <input type="hidden" name="extraSiteVisitor" value="email" *ngIf="siteVisitCommunicationFlag===true" ngModel>&nbsp;&nbsp;&nbsp;
          <input type="hidden" name="extraOnlineMarketing" value="email" *ngIf="onlineMeetingInformationFlag===true" ngModel>&nbsp;&nbsp;&nbsp;
    
          <h5 *ngIf="emailCommunicationFlag===true">E-mail Communication</h5>
          <h5 *ngIf="callCommunicationFlag===true">Call Information</h5>
          <h5 *ngIf="smsCommunicationFlag===true">SMS Information</h5>
          <h5 *ngIf="siteVisitCommunicationFlag===true">Site Visit Information</h5>
          <h5 *ngIf="onlineMeetingInformationFlag===true">Online Meeting Information</h5>

          

          <!-- <div id="dateTimePicker">
            <input type="hidden" name="extraEmail" value="email" ngModel>&nbsp;&nbsp;&nbsp;
            <input type="date" id="datePicker" [(ngModel)]="selectedEmaildatePicker" name="emaildatePicker" ngModel>&nbsp;&nbsp;&nbsp;
            <input type="time" id="timePicker" name="emailtimePicker" ngModel>
          </div>
          <br>-->
          <mat-grid-list cols="3" rowHeight="60px">
            
            <mat-grid-tile>
              <mat-form-field>
                <mat-label>Date</mat-label>
                <input matInput *ngIf="changeDateInputBox===true" (click)="changeDateInput()" id="btn" placeholder="Date" [(ngModel)]="selectedEmaildatePicker" name="selectedEmaildatePicker" ngModel>
                <input matInput *ngIf="dateFlagClick===true" type="datetime-local" placeholder="Date" [(ngModel)]="selectedEmaildatePicker" name ="selectedEmaildatePicker" ngModel>
              </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field>
                <mat-label>Subject</mat-label>
                <input matInput id="btn" placeholder="Subject" [(ngModel)]="selectedextraSubject" name="selectedextraSubject" ngModel>
              </mat-form-field>
              </mat-grid-tile>
          

            <mat-grid-tile>
              <mat-form-field>
                <mat-label>Contact Person</mat-label>
                <input matInput id="btn" placeholder="Contact Person" [(ngModel)]="selectedextraContactPerson" name="selectedextraContactPerson" ngModel>
              </mat-form-field>
              </mat-grid-tile>

            <mat-grid-tile>
              <mat-form-field>
                <mat-label>Contact No</mat-label>
                <input matInput id="btn" placeholder="Contact No" [(ngModel)]="selectedextraContactNo" name="selectedextraContactNo" ngModel>
              </mat-form-field>
            </mat-grid-tile>
          
            <mat-grid-tile>
              <mat-form-field>
                <mat-label>Purpose Of Interaction</mat-label>
                <mat-select [(ngModel)]="selectedextraPurposeOfEmail" name ="selectedextraPurposeOfEmail" ngModel>
                  <mat-option
                    *ngFor="let framwork of allPurposeList"
                    [value]="framwork.name"
                  >
                    {{ framwork.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </mat-grid-tile>
          </mat-grid-list>
         <div class="descField" >
              <mat-form-field>
                <mat-label>Description</mat-label>
                <textarea matInput 
                placeholder="Description" 
                [(ngModel)]="selectedextraDescription"
                name="selectedextraDescription"
                ngModel>
             </textarea>
              </mat-form-field>
            </div>
          <br>
          
          <br>
          <!--<label for="singleFile">Attachment</label>
          <br>
          <input id="singleFile" name="extraAttachment" type="file" ngModel />
          <br>
          <br>-->
          <div class="text-center mt-3">
            <!-- <button mat-raised-button color="secondary">Primary</button> -->
            <button mat-raised-button
              style="font-size: 1rem;background-color: var(--danger) !important; color: #fff !important;"
              class="btn btn-danger mx-3"> Submit</button>
          </div>

        </div>
        <!--Email End-->


      </form>
      <!--Online Meeting Information End-->

    </mat-card>

  </div>

</div>